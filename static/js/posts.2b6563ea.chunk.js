(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{35:function(t,e,n){t.exports={root:"Title_root__2BL1A"}},36:function(t,e,n){t.exports={root:"Post_root__1O5J7",title:"Post_title__2qNB4",body:"Post_body__4XA6I"}},37:function(t,e,n){t.exports={root:"PostsList_root__23Sv4",post:"PostsList_post__sRbXi"}},38:function(t,e,n){t.exports={header:"Posts_header__TkvBH"}},39:function(t,e,n){"use strict";n.r(e);var a,r,c,o=n(8),s=n(0),i=n.n(s),u=n(2),l=n(35),f=n.n(l),p=i.a.memo(function(t){var e=t.children;return i.a.createElement("h1",{className:f.a.root},e)}),h=n(3),b=n.n(h),m=n(36),d=n.n(m),v=Object(u.a)(function(t){var e=t.post,n=t.className;return i.a.createElement("div",{className:b()(d.a.root,n)},i.a.createElement("h3",{className:d.a.title},e.title),i.a.createElement("p",{className:d.a.body},e.body))}),O=n(37),j=n.n(O),_=Object(u.a)(function(t){var e=t.posts,n=t.fetching,a=t.className;return i.a.createElement("div",{className:b()(j.a.root,a)},e.map(function(t){return i.a.createElement(v,{key:t.id,post:t,className:j.a.post})}),n&&i.a.createElement("div",null,"Loading..."))}),g=n(7),y=n(4),E=n.n(y),w=n(6),k=n(14),x=n(15),N=n(16),P=n(10),C=(n(21),n(1)),L=(a=function(){function t(e){Object(x.a)(this,t),this.services=void 0,Object(k.a)(this,"fetching",r,this),Object(k.a)(this,"posts",c,this),this.services=e}return Object(N.a)(t,[{key:"fetch",value:function(){var t=Object(w.a)(E.a.mark(function t(){var e,n=this;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.fetching=!0,t.next=4,this.services.fetchPosts();case 4:e=t.sent,Object(C.f)(function(){e.forEach(function(t){return n.posts.set(t.id,t)}),n.fetching=!1}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),Object(C.f)(function(){return n.fetching=!1});case 12:case"end":return t.stop()}},t,this,[[0,8]])}));return function(){return t.apply(this,arguments)}}()}]),t}(),r=Object(P.a)(a.prototype,"fetching",[C.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=Object(P.a)(a.prototype,"posts",[C.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.e.map({})}}),Object(P.a)(a.prototype,"fetch",[C.b],Object.getOwnPropertyDescriptor(a.prototype,"fetch"),a.prototype),a),A=n(17),B=new L({fetchPosts:function(){return A.a.get("/posts")}}),J=Object(s.createContext)(B),z=n(38),I=n.n(z),S=function(t,e,n){var a=Array.from(t.values());return e&&a.length&&n?a.filter(function(t){return t.userId===e.id}):a},T=Object(u.a)(function(){var t=Object(s.useState)(!1),e=Object(o.a)(t,2),n=e[0],a=e[1],r=Object(s.useContext)(g.a),c=Object(s.useContext)(J);Object(s.useEffect)(function(){c.fetch()},[]);var u=Object(s.useCallback)(function(t){return a(t.target.checked)},[]);return i.a.createElement("div",null,i.a.createElement("div",{className:I.a.header},i.a.createElement(p,null,"Posts"),!!r&&i.a.createElement("div",null,i.a.createElement("input",{type:"checkbox",id:"own-posts",checked:n,onChange:u}),i.a.createElement("label",{htmlFor:"own-posts"},"Only my posts"))),i.a.createElement(_,{fetching:c.fetching,posts:S(c.posts,r,n)}))});e.default=T}}]);
//# sourceMappingURL=posts.2b6563ea.chunk.js.map