(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"3f5b60":function(e,t,n){e.exports={root:"_3gOJhAGP"}},"7fa5ce":function(e,t,n){e.exports={root:"_1ptYWwxx",post:"_2lnjKkBs"}},"9ea1d4":function(e,t,n){e.exports={root:"_3Hh370Di",title:"_3efqJP5_",body:"_1xNDSxg9"}},bd4786:function(e,t,n){"use strict";n.r(t);var a,c=n("8af190"),o=n.n(c),r=n("b91f72");!function(e){e[e.idle=0]="idle",e[e.loading=1]="loading",e[e.success=2]="success",e[e.failure=3]="failure"}(a||(a={}));var s=function(){const[e,t]=Object(c.useState)(a.idle),n=Object(c.useMemo)(()=>({load(){t(a.loading)},done(){t(a.success)},error(){t(a.failure)}}),[]);return{loading:e===a.loading,success:e===a.success,failure:e===a.failure,setState:n}},l=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(n[a[c]]=e[a[c]])}return n},i=o.a.memo((function({isEmpty:e,fetchFunc:t,loading:n,failure:a,empty:r,children:i}){const u=s(),{setState:f}=u,d=l(u,["setState"]);Object(c.useEffect)(()=>{f.load(),t().then(f.done).catch(f.error)},[f]);const p=Object(c.useCallback)(()=>t().then(f.done),[f]);switch(!0){case d.loading&&e:return n;case d.failure:return o.a.createElement(a,{onReload:p});case d.success&&e:return r;case d.success&&!e:return i;default:return null}})),u=n("3f5b60"),f=n.n(u),d=o.a.memo((function({children:e}){return o.a.createElement("h1",{className:f.a.root},e)})),p=o.a.memo((function({onReload:e}){const[t,n]=Object(c.useState)(!1),a=Object(c.useCallback)(()=>{n(!0),e().catch(()=>n(!1))},[e]);return o.a.createElement("div",null,o.a.createElement("span",null,"Something went wrong, "),o.a.createElement("button",{disabled:t,onClick:a},"reload"))})),m=n("c036c7"),b=n("b912ec"),h=n.n(b),y=n("9ea1d4"),v=n.n(y),g=Object(r.a)((function({post:e,className:t}){return o.a.createElement("div",{className:h()(v.a.root,t)},o.a.createElement("h3",{className:v.a.title},e.title),o.a.createElement("p",{className:v.a.body},e.body))})),O=n("7fa5ce"),E=n.n(O),j=Object(r.a)((function({posts:e,className:t}){return o.a.createElement("div",{className:h()(E.a.root,t)},e.map(e=>o.a.createElement(g,{key:e.id,post:e,className:E.a.post})))})),w=n("18abc8"),x=n("2bf77a"),P=n("ddd1e9"),k=n("06ba43");const N=x.readonly(x.interface({userId:x.number,id:x.number,title:x.string,body:x.string}));var S=function(e,t,n,a){return new(n||(n=Promise))((function(c,o){function r(e){try{l(a.next(e))}catch(e){o(e)}}function s(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?c(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}l((a=a.apply(e,t||[])).next())}))};var _={fetchPosts:()=>S(void 0,void 0,void 0,(function*(){const e=yield k.a.get("/posts");return P.decode(x.array(N),e)}))},C=function(e,t,n,a){var c,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(c=e[s])&&(r=(o<3?c(r):o>3?c(t,n,r):c(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},R=function(e,t,n,a){return new(n||(n=Promise))((function(c,o){function r(e){try{l(a.next(e))}catch(e){o(e)}}function s(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?c(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}l((a=a.apply(e,t||[])).next())}))};class F{constructor(){this.fetch=()=>R(this,void 0,void 0,(function*(){const e=yield _.fetchPosts();Object(w.g)(()=>{e.forEach(e=>this.posts.set(e.id,e))})})),this.posts=w.f.map({})}get empty(){return!this.posts.size}}C([w.f],F.prototype,"posts",void 0),C([w.c],F.prototype,"empty",null),C([w.b],F.prototype,"fetch",void 0);var J=new F,B=n("d08925"),D=n.n(B);function I(e,t,n){return t&&e.length&&n?e.filter(e=>e.userId===t.id):e}t.default=Object(r.a)((function(){const[e,t]=Object(c.useState)(!1),n=Object(c.useContext)(m.a),a=Object(c.useCallback)(e=>t(e.target.checked),[]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:D.a.header},o.a.createElement(d,null,"Posts"),Boolean(n)&&o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:e,onChange:a}),o.a.createElement("span",null,"Only my posts"))),o.a.createElement(i,{fetchFunc:J.fetch,isEmpty:J.empty,loading:o.a.createElement("div",null,"Loading posts..."),failure:p,empty:o.a.createElement("div",null,"No data")},o.a.createElement(j,{posts:I(Array.from(J.posts.values()),n,e)})))}))},d08925:function(e,t,n){e.exports={header:"zGVB3LFj"}}}]);
//# sourceMappingURL=3.219d8905.chunk.js.map