{"version":3,"sources":["app/components/ThemeSelector/ThemeSelector.module.css","client.ts","app/components/Content/Content.module.css","app/types.ts","app/contexts/ThemeContext.ts","app/providers/Theme.tsx","app/helpers/setTheme.ts","app/stores/UserStore/UserStore.ts","app/stores/UserStore/index.ts","app/stores/UserStore/services.ts","app/providers/CurrentUser.tsx","app/components/Content/index.ts","app/components/Content/Content.tsx","app/components/CurrentUser/index.ts","app/components/CurrentUser/CurrentUser.tsx","app/components/ThemeSelector/ThemeSelector.tsx","app/components/ThemeSelector/index.ts","app/components/Header/index.ts","app/components/Header/Header.tsx","app/components/Layout/index.ts","app/components/Layout/Layout.tsx","posts/routes/Posts/index.tsx","index.tsx","app/components/Header/Header.module.css","app/contexts/UserContext.ts","app/components/Layout/Layout.module.css"],"names":["module","exports","root","button","get","_ref","Object","_Users_sancho_Work_test_react_hooks_mobx_demo_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_sancho_Work_test_react_hooks_mobx_demo_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","url","wrap","_context","prev","next","abrupt","fetch","then","resp","json","stop","_x","apply","this","arguments","__webpack_exports__","uiThemeName","React","createContext","Light","Theme","observer","children","_useState","useState","_useState2","slicedToArray","theme","updateTheme","onUpdateTheme","useCallback","document","documentElement","setAttribute","setTheme","react_default","createElement","ThemeContext","Provider","value","UserStore","services","classCallCheck","initializerDefineProperty","_descriptor","fetchUser","user","runInAction","_this","console","log","t0","observable","action","userStore","client","UserStoreContext","CurrentUser","useContext","useEffect","UserContext","Content","memo","className","classNames","styles","name","THEMES","keys","ThemeSelector","onChange","map","key","onClick","Header","_useContext","components_Content","content","title","side","components_CurrentUser","components_ThemeSelector","Layout","components_Header","header","main","Loadable","loader","__webpack_require__","e","bind","loading","ReactDOM","render","providers_Theme","providers_CurrentUser","components_Layout","Posts","getElementById","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"static/js/main.5c96ab8b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ThemeSelector_root__3Ke2n\",\"button\":\"ThemeSelector_button__1CTn9\"};","const API_URL = 'https://jsonplaceholder.typicode.com';\n\nconst get = async(url: string) => (\n  fetch(API_URL + url).then(resp => resp.json())\n);\n\nexport default {\n  get,\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Content_root__qJ71I\"};","export enum uiThemeName {\n  Light = 'light',\n  Dark = 'dark',\n}\n\nexport interface IUser {\n  id: number;\n  name: string;\n}\n","import React from 'react';\nimport { uiThemeName } from '../types';\n\ntype IThemeContext = [uiThemeName, (theme: uiThemeName) => void];\nexport default React.createContext<IThemeContext>([uiThemeName.Light, () => {}]);\n","import React, { useState, useCallback } from 'react';\nimport { observer } from 'mobx-react-lite';\nimport ThemeContext from '../contexts/ThemeContext';\nimport setTheme from '../helpers/setTheme';\nimport { uiThemeName } from '../types';\n\nconst Theme: React.FunctionComponent = observer(({ children }) => {\n  const [theme, updateTheme] = useState(uiThemeName.Light);\n\n  const onUpdateTheme = useCallback((theme: uiThemeName) => {\n    updateTheme(theme);\n    setTheme(theme);\n  }, []);\n\n  return (\n    <ThemeContext.Provider value={[theme, onUpdateTheme]}>\n      {children}\n    </ThemeContext.Provider>\n  );\n});\n\nexport default Theme;\n","import { uiThemeName } from '../types';\n\nexport default (theme: uiThemeName) => (\n  document.documentElement.setAttribute('theme', theme)\n);\n","import { observable, action, runInAction } from 'mobx';\nimport { IUserServices } from './services';\nimport { IUser } from '../../types';\n\nclass UserStore {\n\n  private services: IUserServices;\n\n  @observable user: IUser | null = null;\n\n  constructor(services: IUserServices) {\n    this.services = services;\n  }\n\n  @action async fetch() {\n    try {\n      const user = await this.services.fetchUser();\n      runInAction(() => this.user = user);\n    } catch (error) {\n      console.log(error);\n      runInAction(() => this.user = null);\n    }\n  }\n\n}\n\nexport default UserStore;\n","import UserStore from './UserStore';\nimport services from './services';\nimport { createContext } from 'react';\n\nconst userStore = new UserStore(services);\nexport const UserStoreContext = createContext(userStore);\n\nexport default userStore;\n","import client from '../../../client';\nimport { IUser } from '../../types';\n\nconst fetchUser = () => client.get('/users/2');\n\nexport interface IUserServices {\n  fetchUser: () => Promise<IUser>;\n}\n\nexport default { fetchUser };\n","import React, { useContext, useEffect } from 'react';\nimport { observer } from 'mobx-react-lite';\nimport { UserStoreContext } from '../stores/UserStore';\nimport UserContext from '../contexts/UserContext';\n\nconst CurrentUser: React.FunctionComponent = observer(({ children }) => {\n  const userStore = useContext(UserStoreContext);\n  useEffect(() => { userStore.fetch(); }, []);\n\n  return (\n    <UserContext.Provider value={userStore.user}>\n      {children}\n    </UserContext.Provider>\n  );\n});\n\nexport default CurrentUser;\n","import Content from './Content';\n\nexport default Content;\n","import React from 'react';\nimport classNames from 'classnames';\nimport styles from './Content.module.css';\n\ninterface Props {\n  className?: string;\n}\n\nconst Content: React.FunctionComponent<Props> = React.memo(\n  ({ className, children }) => (\n    <div className={classNames(styles.root, className)}>\n      {children}\n    </div>\n  )\n);\n\nexport default Content;\n","import CurrentUser from './CurrentUser';\n\nexport default CurrentUser;\n","import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport classNames from 'classnames';\nimport { IUser } from '../../types';\n\ninterface Props {\n  user: IUser | null;\n  className?: string;\n}\n\nconst CurrentUser: React.FunctionComponent<Props> = observer(({ user, className }) => {\n  if (!user) return null;\n  return <div className={classNames(className)}>{user.name}</div>;\n});\n\nexport default CurrentUser;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { uiThemeName } from '../../types';\nimport styles from './ThemeSelector.module.css';\n\nconst THEMES = Object.keys(uiThemeName);\n\ninterface IProps {\n  className?: string;\n  onChange: (theme: uiThemeName) => void;\n}\n\nconst ThemeSelector: React.FunctionComponent<IProps> = React.memo(\n  ({ className, onChange }) => (\n    <div className={classNames(styles.root, className)}>\n      {THEMES.map((name: any) => (\n        <button\n          key={name}\n          className={styles.button}\n          onClick={() => onChange(uiThemeName[name] as uiThemeName)}\n        >\n          {name}\n        </button>\n      ))}\n    </div>\n  )\n);\n\nexport default ThemeSelector;\n","import ThemeSelector from './ThemeSelector';\n\nexport default ThemeSelector;\n","import Header from './Header';\n\nexport default Header;\n","import React, { useContext } from 'react';\nimport { observer } from 'mobx-react-lite';\nimport classNames from 'classnames';\nimport Content from '../Content';\nimport CurrentUser from '../CurrentUser';\nimport ThemeSelector from '../ThemeSelector';\nimport UserContext from '../../contexts/UserContext';\nimport ThemeContext from '../../contexts/ThemeContext';\nimport styles from './Header.module.css';\n\ninterface Props {\n  className?: string;\n}\n\nconst Header: React.FunctionComponent<Props> = observer(({ className }) => {\n  const user = useContext(UserContext);\n  const [, onUpdateTheme] = useContext(ThemeContext);\n\n  return (\n    <header className={classNames(styles.root, className)}>\n      <Content className={styles.content}>\n        <div className={styles.title}>Demo</div>\n        <div className={styles.side}>\n          <CurrentUser className={styles.user} user={user} />\n          <ThemeSelector onChange={onUpdateTheme} />\n        </div>\n      </Content>\n    </header>\n  );\n});\n\nexport default Header;\n","import Layout from './Layout';\n\nexport default Layout;\n","import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport Header from '../Header';\nimport Content from '../Content';\nimport styles from './Layout.module.css';\n\nconst Layout: React.FunctionComponent = observer(({ children }) => {\n  return (\n    <div className={styles.root}>\n      <Header className={styles.header} />\n      <main className={styles.main}>\n        <Content>\n          {children}\n        </Content>\n      </main>\n    </div>\n  );\n});\n\nexport default Layout;\n","import React from 'react';\nimport Loadable from 'react-loadable';\n\nexport default Loadable({\n  loader: () => import(/* webpackChunkName: \"posts\" */ './Posts'),\n  loading: () => <div>Loading...</div>,\n});\n","import './index.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Theme from './app/providers/Theme';\nimport CurrentUser from './app/providers/CurrentUser';\nimport Layout from './app/components/Layout';\nimport Posts from './posts/routes/Posts';\n\nReactDOM.render(\n  <Theme>\n    <CurrentUser>\n      <Layout>\n        <Posts />\n      </Layout>\n    </CurrentUser>\n  </Theme>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Header_root__2nBTP\",\"content\":\"Header_content__3nBtP\",\"title\":\"Header_title__W8kkr\",\"side\":\"Header_side__2HLyl\",\"user\":\"Header_user__2drLH\"};","import React from 'react';\nimport { IUser } from '../types';\n\nexport default React.createContext<IUser | null>(null);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Layout_root__3Jpa7\",\"header\":\"Layout_header__3qpxs\",\"main\":\"Layout_main__3R21F\"};"],"sourceRoot":""}